<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Teste do Carrinho</title>
</head>
<body>
    <h1>Teste do Sistema de Carrinho</h1>
    
    <div style="margin: 20px;">
        <h3>Teste B√°sico</h3>
        <button onclick="testarCarrinho()" style="padding: 10px; background: #4CAF50; color: white; border: none; border-radius: 5px; cursor: pointer;">
            üß™ Testar Carrinho
        </button>
        
        <button onclick="adicionarAoCarrinho('boloBase', 'Bolo Teste', 85.00)" style="padding: 10px; background: #2196F3; color: white; border: none; border-radius: 5px; cursor: pointer; margin-left: 10px;">
            üõí Adicionar Item Teste
        </button>
        
        <button onclick="mostrarDebug()" style="padding: 10px; background: #FF9800; color: white; border: none; border-radius: 5px; cursor: pointer; margin-left: 10px;">
            üîç Mostrar Debug
        </button>
    </div>
    
    <div id="resultado" style="margin: 20px; padding: 10px; background: #f5f5f5; border-radius: 5px; min-height: 100px;">
        <strong>Resultado dos testes aparecer√° aqui...</strong>
    </div>
    
    <script src="/js/carrinho-debug.js"></script>
    
    <script>
        function testarCarrinho() {
            const resultado = document.getElementById('resultado');
            resultado.innerHTML = '<strong>Testando carrinho...</strong><br>';
            
            // Verificar se o carrinho foi carregado
            if (window.carrinhoDebug) {
                resultado.innerHTML += '‚úÖ CarrinhoDebug carregado<br>';
                resultado.innerHTML += `‚úÖ Inicializado: ${window.carrinhoDebug.inicializado}<br>`;
                resultado.innerHTML += `‚úÖ API URL: ${window.carrinhoDebug.apiUrl}<br>`;
                
                // Testar obten√ß√£o de celular
                window.carrinhoDebug.obterCelular().then(celular => {
                    if (celular) {
                        resultado.innerHTML += `‚úÖ Celular obtido: ${celular}<br>`;
                    } else {
                        resultado.innerHTML += '‚ùå Falha ao obter celular<br>';
                    }
                });
                
            } else {
                resultado.innerHTML += '‚ùå CarrinhoDebug N√ÉO carregado<br>';
            }
            
            // Verificar fun√ß√£o global
            if (typeof adicionarAoCarrinho === 'function') {
                resultado.innerHTML += '‚úÖ Fun√ß√£o adicionarAoCarrinho dispon√≠vel<br>';
            } else {
                resultado.innerHTML += '‚ùå Fun√ß√£o adicionarAoCarrinho N√ÉO dispon√≠vel<br>';
            }
            
            // Verificar debug
            if (window.debugCarrinho) {
                resultado.innerHTML += `‚úÖ Debug inicializado: ${window.debugCarrinho.inicializado}<br>`;
                resultado.innerHTML += `‚úÖ Erros: ${window.debugCarrinho.erros.length}<br>`;
                resultado.innerHTML += `‚úÖ Logs: ${window.debugCarrinho.logs.length}<br>`;
            } else {
                resultado.innerHTML += '‚ùå Debug N√ÉO dispon√≠vel<br>';
            }
        }
        
        // Executar teste autom√°tico quando a p√°gina carregar
        window.addEventListener('load', function() {
            setTimeout(testarCarrinho, 1000);
        });
    </script>
</body>
</html>